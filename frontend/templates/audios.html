{% extends "base.html" %}
{% block title %}Audios â€” Carnaval de CÃ¡diz{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="/static/css/audios.css"/>
{% endblock %}

{% block content %}

<div class="audios-layout">

  <!-- â”€â”€ Sidebar: modalidades y grupos â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
  <aside class="audios-sidebar">
    <div class="sidebar-header">ğŸµ ColecciÃ³n de Audio</div>
    <div class="sidebar-loading" id="sidebarLoading">
      <div class="spinner"></div>
    </div>
    <nav class="sidebar-nav" id="sidebarNav">
      <!-- Relleno dinÃ¡mico -->
    </nav>
  </aside>

  <!-- â”€â”€ Contenido: lista de pistas â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
  <main class="audios-main">

    <div class="tracks-empty" id="tracksEmpty">
      <div class="tracks-empty-icon">ğŸµ</div>
      <p>Selecciona un grupo de la barra lateral</p>
    </div>

    <div class="tracks-wrap" id="tracksWrap" style="display:none">
      <div class="tracks-header">
        <div class="tracks-header-text">
          <span class="tracks-modalidad-badge" id="tracksModalidad"></span>
          <h1 class="tracks-grupo-nombre" id="tracksGrupoNombre"></h1>
          <p class="tracks-count" id="tracksCount"></p>
        </div>
        <button class="btn-play-all" id="btnPlayAll">â–¶ Reproducir todo</button>
      </div>

      <ol class="track-list" id="trackList">
        <!-- Relleno dinÃ¡mico -->
      </ol>
    </div>

  </main>

</div><!-- .audios-layout -->

<!-- â”€â”€ Player sticky â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
<div class="audio-player" id="audioPlayer" style="display:none">

  <div class="player-info">
    <div class="player-emoji" id="playerEmoji">ğŸµ</div>
    <div class="player-meta">
      <span class="player-titulo" id="playerTitulo">â€”</span>
      <span class="player-grupo" id="playerGrupo">â€”</span>
    </div>
  </div>

  <div class="player-center">
    <div class="player-controls">
      <button class="player-btn" id="btnPrev" title="Anterior">â®</button>
      <button class="player-btn player-btn-play" id="btnPlayPause" title="Play/Pausa">â–¶</button>
      <button class="player-btn" id="btnNext" title="Siguiente">â­</button>
    </div>
    <div class="player-progress-wrap">
      <span class="player-time" id="playerCurrentTime">0:00</span>
      <div class="player-progress-bar" id="progressBar">
        <div class="player-progress-fill" id="progressFill"></div>
      </div>
      <span class="player-time" id="playerDuration">0:00</span>
    </div>
  </div>

  <div class="player-volume-wrap">
    <span class="player-vol-icon">ğŸ”Š</span>
    <input type="range" class="player-volume" id="playerVolume"
           min="0" max="1" step="0.05" value="0.8"/>
  </div>

</div>

<!-- Elemento audio nativo oculto -->
<audio id="audioElement" preload="metadata"></audio>

{% endblock %}

{% block extra_js %}
<script src="/static/js/audios.js"></script>
{% endblock %}
