{% extends "base.html" %}
{% block title %}Letras â€” Carnaval de CÃ¡diz{% endblock %}

{% block content %}
<div class="letras-page">

  <!-- Cabecera -->
  <div class="letras-page-header">
    <h1>ğŸ“œ Letras del Carnaval</h1>
    <p>Coplas, pasodobles, cuplÃ©s y mÃ¡s de 17.000 letras del COAC</p>
  </div>

  <!-- Filtros -->
  <div class="letras-filtros" style="padding:0 48px 20px">
    <input type="text" id="letrasQ" class="letras-search"
           placeholder="ğŸ” Buscar copla, grupo, autor..." autocomplete="off" />
    <select id="letrasAÃ±o">
      <option value="">Todos los aÃ±os</option>
    </select>
    <select id="letrasTipo">
      <option value="">Todos los tipos</option>
      <option value="presentacion">PresentaciÃ³n</option>
      <option value="pasodoble">Pasodoble</option>
      <option value="cuple">CuplÃ©</option>
      <option value="estribillo">Estribillo</option>
      <option value="popurri">PopurrÃ­</option>
      <option value="romance">Romance</option>
    </select>
    <button class="btn-filtrar" id="btnBuscarLetras">Buscar</button>
  </div>

  <!-- Grid de letras -->
  <div class="grid-letras" id="gridLetras" style="padding:0 48px 40px">
    <div class="loading-state"><div class="spinner"></div><p>Cargando letras...</p></div>
  </div>

  <!-- PaginaciÃ³n -->
  <div class="paginacion" id="paginacionLetras" style="display:none">
    <button class="btn-pag" id="btnLetrasAnterior">â† Anterior</button>
    <span id="infoLetrasPagina">PÃ¡gina 1</span>
    <button class="btn-pag" id="btnLetrasSiguiente">Siguiente â†’</button>
  </div>

</div>

<!-- Modal: letra completa -->
<div id="letraModal" class="letra-modal-overlay" style="display:none">
  <div class="letra-modal-box">
    <button class="letra-modal-close" id="btnCerrarLetra">âœ•</button>
    <div class="letra-modal-header">
      <span class="letra-modal-tipo" id="letraModalTipo"></span>
      <span class="letra-modal-aÃ±o" id="letraModalAÃ±o"></span>
    </div>
    <h2 class="letra-modal-titulo" id="letraModalTitulo"></h2>
    <p class="letra-modal-grupo" id="letraModalGrupo"></p>
    <div class="letra-modal-contenido" id="letraModalContenido"></div>
  </div>
</div>

<!-- Template tarjeta de letra -->
<template id="letraTemplate">
  <article class="letra-card">
    <div class="letra-card-top">
      <span class="letra-card-tipo"></span>
      <span class="letra-card-aÃ±o"></span>
    </div>
    <h3 class="letra-card-titulo"></h3>
    <p class="letra-card-grupo"></p>
    <p class="letra-card-preview"></p>
    <button class="btn-ver-letra">ğŸ“œ Leer completa</button>
  </article>
</template>

{% endblock %}

{% block extra_js %}
<script src="/static/js/letras.js"></script>
{% endblock %}
